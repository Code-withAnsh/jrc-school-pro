// For license information, see `https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/c29ee4da60ab/RCad1da7c6652048d19f9c40a147919f67-file.js`.
"use strict";(()=>{function e(e){try{const t=new URL(e);t.search="",t.hash="";const n=["/video/","/search/","/gallery/","/projects/"];let o=t.pathname;for(const e of n){const t=o.indexOf(e);if(-1!==t){o=o.substring(0,t+e.length);break}}return t.pathname=o,t.toString()}catch{return""}}async function t(){const e=navigator.userAgentData;if(!e)return{};try{const t=await e.getHighEntropyValues(["architecture","bitness","model","platformVersion","wow64"]);return{platform:e.platform,mobile:e.mobile,architecture:t.architecture,bitness:t.bitness,model:t.model,platformVersion:t.platformVersion,wow64:t.wow64}}catch{return{}}}function n(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():o()}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function i(e){const t=new Uint8Array(16);let n=0,o=0;for(;n<e.length&&o<16;){if("-"===e[n]){n++;continue}if(n+1>=e.length)break;const i=e.slice(n,n+2),r=Number.parseInt(i,16);Number.isNaN(r)||(t[o]=r,o++),n+=2}return t}function r(e){const t=i(e);let n=0n,o=0n;for(let e=0;e<t.length;e++)e<8?n=(n<<8n)+BigInt(t[e]):o=(o<<8n)+BigInt(t[e]);const r=9223372036854775807n;n>r&&(n-=2n**64n),o>r&&(o-=2n**64n),n<0n&&(n=-n),o<0n&&(o=-o);return n.toString().padStart(19,"0").slice(-19)+o.toString().padStart(19,"0").slice(-19)}function a(){const e="gsdk:ecid";try{if("undefined"!=typeof window&&window.localStorage){const t=window.localStorage.getItem(e);if(t&&38===t.length&&/^\d{38}$/.test(t))return t}}catch(e){}try{const t=r(n());try{"undefined"!=typeof window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){}return t}catch(e){return`${Date.now().toString()}${Math.random().toString().substring(2)}00000000000000000000`.substring(0,38)}}function s(){const e=navigator.userAgent;let t="Unknown",n="",o="";if(V.platform)if(t=V.platform,n=V.platformVersion||"","Windows"===V.platform){if(o="Microsoft",V.platformVersion){n=Number.parseInt(V.platformVersion.split(".")[0])>=13?"11":"10"}}else"macOS"===V.platform?(o="Apple",t="MacOS",V.platformVersion&&(n=V.platformVersion)):"Linux"===V.platform?o="Linux":"Android"===V.platform?o="Google":"iOS"===V.platform&&(o="Apple");else if(/iPhone|iPad|iPod/.test(e)){t="iOS",o="Apple";const i=e.match(/OS (\d+_\d+_?\d*)/);i&&(n=i[1].replace(/_/g,"."))}else if(e.includes("Android")){t="Android",o="Google";const i=e.match(/Android (\d+\.?\d*\.?\d*)/);i&&(n=i[1])}else if(e.includes("Mac OS X")||e.includes("Macintosh")){t="MacOS",o="Apple";const i=e.match(/Mac OS X ([0-9_]+)/);if(i){const e=i[1].replace(/_/g,".");e.startsWith("10.15")||(n=e)}}else e.includes("Windows")?(t="Windows",o="Microsoft",e.includes("Windows NT 10.0")?n=e.includes("Windows 11")?"11":"10":e.includes("Windows NT 6.3")?n="8.1":e.includes("Windows NT 6.1")&&(n="7")):e.includes("Linux")&&(t="Linux",o="Linux");return{operatingSystem:t,operatingSystemVersion:n||void 0,operatingSystemVendor:o}}function c(e){for(const[t,n]of Object.entries($))if(e===t||e.endsWith(`.${t}`))return n}function d(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function l(){try{const e=window._satellite,t=e?.getVar?.("cmp.state"),n=e?.getVar?.("consent"),o=n?.c;return"post"!==t||e?.cookie?.get?.("OptanonConsent")?{configuration:{performance:!!o?.("C0002"),functional:!!o?.("C0003"),advertising:!!o?.("C0004")}}:{configuration:{performance:!0,functional:!0,advertising:!0}}}catch(e){return{configuration:{performance:!1,functional:!1,advertising:!1}}}}function u(){for(const e in window.sessionStorage)if(e.startsWith("adobeid_ims_profile/")){const t=window.sessionStorage.getItem(e);try{const e=JSON.parse(t??"{}");if(e?.userId&&e?.authId)return{isSignedInUser:N((()=>!0),"isSignedInUser"),getProfile:N((()=>Promise.resolve(e)),"getProfile")};if("guest"===e?.account_type)return{isSignedInUser:N((()=>!1),"isSignedInUser"),getProfile:N((()=>Promise.resolve({})),"getProfile")}}catch(e){}}return null}function g(){return j?Promise.resolve(j):Promise.resolve().then((()=>new Promise((e=>{if(window.adobeIMS?.isSignedInUser&&window.adobeIMS?.getProfile)j=window.adobeIMS,e(j);else{const t=u();if(t)return void e(j=t);let n=null,o=!1;const i=N((t=>{o||(o=!0,null!==n&&clearTimeout(n),clearTimeout(a),e(t))}),"cleanupAndResolve"),r=N((()=>{if(o)return;const e=u();e?i(j=e):n=setTimeout(r,F)}),"pollSessionStorage");n=setTimeout(r,F);const a=setTimeout((()=>{if(window.adobeIMS?.isSignedInUser&&window.adobeIMS?.getProfile)j=window.adobeIMS,i(j);else{const e=u();i(e?j=e:void 0)}}),R);let s;if(window.addEventListener("onImsLibInstance",(e=>{j=e.detail.instance,i(j)}),{once:!0}),"undefined"!=typeof CustomEvent)s=new CustomEvent("getImsLibInstance");else{const e=document.createEvent("CustomEvent");e.initCustomEvent("getImsLibInstance",!1,!1,null),s=e}window.dispatchEvent(s)}}))))}function m(e,t=1e4){return new Promise(((n,o)=>{function i(){const a=window[e];void 0===a?Date.now()-r>=t?o(new Error(`Timeout waiting for window.${e}`)):setTimeout(i,200):n(a)}const r=Date.now();N(i,"check"),i()}))}function p(){m("alloy_getIdentity",R).then((e=>e)).then((e=>{e?.identity?.ECID&&(H._adobe_corpnew.event.identifiers.ECID=e.identity.ECID,H.identityMap.ECID[0].id=e.identity.ECID)})).catch((()=>{}))}function f(){return g().then((e=>{if(e&&(H._adobe_corpnew.user.authenticationStatus=!0===e.isSignedInUser()?"Signed In":"Signed Out",e.isSignedInUser()))return e.getProfile()})).then((e=>{e?.userId&&(H._adobe_corpnew.user.userId=e.userId,H._adobe_corpnew.event.identifiers.userGUID=e.userId,H.identityMap.adobeGUID=[{id:e.userId,primary:!0,authenticatedState:"authenticated"}],H.identityMap.ECID[0].primary=!1),e?.account_type&&(H._adobe_corpnew.user.userAccountType=e.account_type)})).catch((()=>{}))}function b(){m("alloy_all",R).then((t=>{if(t){const n=t.data;n.URL&&(H.web.webPageDetails.URL=e(n.URL)),n.server&&(H.web.webPageDetails.server=n.server)}})).catch((()=>{}))}function w(){return{implementationDetails:{environment:"browser",name:"https://ns.adobe.com/gsdk/browser",version:"1.5.1"},environment:{browserDetails:{userAgent:navigator.userAgent,cookiesEnabled:navigator.cookieEnabled,thirdPartyCookiesEnabled:void 0,userAgentClientHints:{},...s()}},web:{webPageDetails:{server:window.location.hostname,URL:e(window.location.href??window.location.toString())}},application:{_dc:{language:navigator.language??navigator.languages?.[0]},name:""},_adobe_corpnew:{user:{userAccountType:void 0,authenticationStatus:void 0,userId:void 0},event:{identifiers:{}},browseSession:{isLocalStorageAvailable:d()},otherConsents:{...l()}},eventType:"mau.exposed",timestamp:(new Date).toISOString(),identityMap:{ECID:[{id:"",primary:!0}]}}}function h(){H=w(),j=void 0,B=f(),document.hasStorageAccess?.()?.then?.((e=>{H.environment.browserDetails.thirdPartyCookiesEnabled=e}))?.catch?.((()=>{})),t()?.then?.((e=>{Object.assign(H.environment.browserDetails.userAgentClientHints,e)}))?.catch?.((()=>{})),p(),b()}function v(){if(H||(H=w()),!H._adobe_corpnew.event.identifiers.ECID||""===H._adobe_corpnew.event.identifiers.ECID){const e=a();H._adobe_corpnew.event.identifiers.ECID=e,H.identityMap.ECID[0].id=e}return H.application.name=c(window.location.hostname)??window.location.hostname,Object.assign(H._adobe_corpnew.otherConsents,l()),H.timestamp=(new Date).toISOString(),H}function S(){const e=s();return"MacOS"===e.operatingSystem||"iOS"===e.operatingSystem?{project:"gesdk-ps-mac-service",apiKey:"gesdk-ps-mac-service"}:{project:"gesdk-ps-win-service",apiKey:"gesdk-ps-win-service"}}function y(e){const t=e._adobe_corpnew.otherConsents.configuration;return!0===t.performance&&!0===t.functional}function I(t,n,o){const{project:i}=S(),r=t,a=r.timestamp,s=o,c=r._adobe_corpnew.event.identifiers.ECID||r.identityMap.ECID[0]?.id||"",d=r._adobe_corpnew.user.userId,l=r.environment.browserDetails.userAgent,u=r.application._dc.language?.replace("-","_")||"en_US",g=e(r.web.webPageDetails.URL),m=r.environment.browserDetails.operatingSystem||"unknown",p=r.environment.browserDetails.operatingSystemVersion||"unknown",f="desktop",b={"event.guid":s,"event.type":n.success?"success":"error","event.url":g,"event.referrer":document.referrer,"event.category":"WEB","event.workflow":"Debug","event.mcid_guid":c,"event.visitor_guid":c,"event.user_agent":l,"event.language":u,"event.subcategory":"mau","event.subtype":"api","source.platform":m,"source.os_version":p,"source.device":f,"env.com.name":"GESDK","event.dts_end":a};d&&(b["event.user_guid"]=d);const w=window?.adobeid?.client_id;return w&&(b["source.client_id"]=w),!n.success&&n.error&&(b["event.error_code"]=n.error.code,b["event.error_type"]=n.error.type,b["event.error_description"]=n.error.description),{events:[{time:a,project:i,environment:"prod",ingesttype:"dunamis",data:b}]}}async function _(e,t,n){if(!n.success&&y(e))try{const o=I(e,n,t),{apiKey:i}=S();(await fetch("https://cc-api-data.adobe.io/ingest",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":i,"X-Request-Id":t},body:JSON.stringify(o),keepalive:!0})).ok}catch(e){}}function E(){return window._satellite?.environment?.stage&&"production"!==window._satellite?.environment?.stage?"8be96822-e922-4685-a86a-dd0da15f279a":"c2ddbb32-4279-46db-8240-390fba13feeb"}function D(e,t,n){return{success:!1,error:{code:e,type:t,description:n}}}async function T(e,t,n,o,i=!1){const r="collect"===e?JSON.stringify({events:[{xdm:t}],meta:{state:{cookiesEnabled:!1}}}):JSON.stringify({event:{xdm:t}}),a=window.marketingtech?.adobe?.alloy?.edgeDomain||"www.adobe.com",s=window.marketingtech?.adobe?.alloy?.edgeBasePath||"experienceedge";if(i&&a.includes("sstats"))return D("-1002","ConfigurationError","Cannot enable fallback when domain already contains sstats");const c=`https://${i?"sstats.adobe.com":a}/${i?"ee":s}/v2/${e}?datastreamId=${o}&requestId=${encodeURIComponent(n)}`;try{const t=await fetch(c,{method:"POST",credentials:"omit",keepalive:!0,headers:{"Content-Type":"text/plain"},body:r});return t.ok?{success:!0}:D(t.status.toString(),"HttpError",`${e} endpoint failed: ${t.status} ${t.statusText}`)}catch(t){return D("-1001","NetworkError",`${e} endpoint failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function x(e,t){const n=E(),o=await T("collect",e,t,n,!1);if(o.success)return o;const i=await T("interact",e,t,n,!1);return i.success?i:await T("interact",e,t,n,!0)}function k(e,t){const n=Date.now(),o=new Date(n);let i,r;"skipped"===t?(i=K,r=X):"fallback"===t?(i=q,r=Q):(i=Y,r=J);let a=Z;try{a=localStorage.getItem(r)||Z}catch(e){}if(!(a!==e))try{const e=localStorage.getItem(i);if(e){const t=new Date(e);if(!(t.getUTCFullYear()!==o.getUTCFullYear()||t.getUTCMonth()!==o.getUTCMonth()||t.getUTCDate()!==o.getUTCDate())){const e=n-t.getTime();if(e<60*G*60*1e3)return!0}}}catch(e){}return!1}async function C({useSkipped:e=!1}={}){const t=new Date,o=v(),i=n();o.eventType=e?"mau.skipped":"mau.exposed";const r=o?._adobe_corpnew?.user?.userId,a=r&&""!==r?r:Z;if(k(a,"exposed"))return;if(e)return void k(a,"skipped");const s=await x(o,i).catch((e=>({success:!1,error:{code:"-1",type:"Fetch API Error",description:e instanceof Error?e.message:"Unknown error"}})));if(s.success){if(!e)try{localStorage.setItem(Y,t.toISOString()),localStorage.setItem(J,a)}catch(e){}if(e)try{localStorage.setItem(K,t.toISOString()),localStorage.setItem(X,a)}catch(e){}}else{if(k(a,"fallback"))return;await _(o,i,s);try{localStorage.setItem(q,t.toISOString()),localStorage.setItem(Q,a)}catch(e){}}}function P(){if(re&&ae){const e=Date.now()-ae;se=Math.max(1,se-e),clearTimeout(re),re=null,ae=null}}function A(){void 0!==document.visibilityState&&"visible"!==document.visibilityState||null===re&&se>0&&(ae=Date.now(),re=setTimeout(O,se))}function U(){let e=!1;const t=N((()=>{e||(e=!0,C({useSkipped:!0}))}),"dispatchSkipIfNeeded");ie=N((()=>{P(),t()}),"pagehideHandler"),oe=N((()=>{"visible"===document.visibilityState?A():"hidden"===document.visibilityState&&(P(),t())}),"visibilityChangeHandler"),document.addEventListener("visibilitychange",oe),window.addEventListener("pagehide",ie),"hidden"===document.visibilityState&&(P(),t())}function O(){ae=null,se=0,re&&(clearTimeout(re),re=null),oe&&(document.removeEventListener("visibilitychange",oe),oe=null),ie&&(window.removeEventListener("pagehide",ie),ie=null),ce&&(window.removeEventListener("scroll",ce),ce=null),M()}function L(){se=te,U(),A(),ce=N((()=>{const e=document?.documentElement?.scrollHeight??0;if(e>1.5*(window?.innerHeight??0)){const t=window.pageYOffset||document.documentElement.scrollTop,n=e-document.documentElement.clientHeight;if(n<=0)return;t/n*100>ee&&O()}}),"scrollHandler"),window.addEventListener("scroll",ce)}function M(){function e(){o||(o=!0,clearTimeout(i),document.removeEventListener("visibilitychange",t),window.removeEventListener("pagehide",n),C({useSkipped:!1}))}function t(){"hidden"===document.visibilityState&&e()}function n(){e()}let o=!1;const i=setTimeout((()=>{e()}),ne);z().then((()=>{e()})).catch((()=>{e()})),N(e,"sendMau"),N(t,"visibilityHandler"),N(n,"pagehideHandler"),document.addEventListener("visibilitychange",t),window.addEventListener("pagehide",n)}var W=Object.defineProperty,N=(e,t)=>W(e,"name",{value:t,configurable:!0});N(e,"removeSensitiveDetails"),N(t,"getUserAgentClientHints"),N(n,"generateUUID"),N(o,"generateFallbackUUID"),N(i,"parseUuid"),N(r,"generateEcidFromUuid"),N(a,"getOrCreateEcid");var V={};t().then((e=>{V=e})).catch((()=>{})),N(s,"getOperatingSystemInfo");var $={"firefly.adobe.com":"Firefly Web","photoshop.adobe.com":"Ps Web","lightroom.adobe.com":"Lr Web","express.adobe.com":"Adobe Express","new.express.adobe.com":"Adobe Express","acrobat.adobe.com":"Acrobat Web","illustrator.adobe.com":"Illustrator Web","behance.net":"Behance Web","www.behance.net":"Behance Web","portfolio.adobe.com":"Portfolio Web","stock.adobe.com":"Stock Web","fonts.adobe.com":"Fonts","podcast.adobe.com":"Podcast Web (studio)","coldfusion.adobe.com":"Coldfusion","contentauthenticity.adobe.com":"Content Authenticity Website","projectneo.adobe.com":"Project Neo (Beta) Web","xd.adobe.com":"Adobe XD","adobesign.adobe.com":"Adobe Sign","echosign.adobe.com":"Adobe Sign","firefly-stage.corp.adobe.com":"Firefly Web (Stage)","stage.photoshop.adobe.com":"Ps Web (Stage)","stage.adobelr.com":"Lr Web (Stage)","projectx.corp.adobe.com":"Adobe Express (Stage)","stage.acrobat.adobe.com":"Acrobat Web (Stage)","stage-main.illustrator.adobe.com":"Illustrator Web (Stage)","net.s2stagehance.com":"Behance Web (Stage)","portfolio.ccpsx.com":"Portfolio Web (Stage)","primary.stock.stage.adobe.com":"Stock Web (Stage)","podcast.stage.adobe.com":"Podcast Web (studio) (Stage)","fonts-relstage.adobe.com":"Fonts (Stage)"};N(c,"getAdobeProductName"),N(d,"getStorageStatus"),N(l,"getAEPConsent");var H,j=void 0,R="number"==typeof globalThis.__TEST_ASYNC_TIMEOUT__?globalThis.__TEST_ASYNC_TIMEOUT__:14e3,F="number"==typeof globalThis.__TEST_POLL_INTERVAL__?globalThis.__TEST_POLL_INTERVAL__:500;N(u,"checkSessionStorage"),N(g,"getIms"),N(m,"waitForWindowProperty"),N(p,"initializeAlloyIdentity"),N(f,"initializeAdobeIMS"),N(b,"initializeAlloyData"),N(w,"createPayload");var B=null;N(h,"init"),N(v,"getPayload");var z=N((()=>B||Promise.resolve()),"imsInitialized");N(S,"getDunamisConfig"),N(y,"hasAnalyticsConsent"),N(I,"generateDunamisPayload"),N(_,"sendDunamis"),N(E,"getDatastreamId"),N(D,"createError"),N(T,"sendToEndpoint"),N(x,"sendEvent");var G=23.5,Y="adobe.dgp.mau.lastDispatchTime",J="adobe.dgp.mau.loginStatus",K="adobe.dgp.mau.lastDispatchTime.skipped",X="adobe.dgp.mau.loginStatus.skipped",q="adobe.dgp.mau.lastDispatchTime.fallback",Q="adobe.dgp.mau.loginStatus.fallback",Z="NONE";N(k,"shouldSkipDueToCooldown"),N(C,"dispatchMau");var ee=50,te=5e3,ne=16e3,oe=null,ie=null,re=null,ae=null,se=te,ce=null;N(P,"pauseMauTimer"),N(A,"resumeMauTimer"),N(U,"setupVisibilityHandler"),N(O,"triggerMau"),N(L,"initialize"),N(M,"startRace"),h(),L()})();